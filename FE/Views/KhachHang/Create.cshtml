@model BE.DTOs.KhachHangDTO

@{
    ViewData["Title"] = "Thêm khách hàng";
    Layout = "_AdminLayout";
}

<!-- CSS cho thông báo -->
<style>
    .success-toast {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1050;
        background-color: #28a745;
        color: white;
        padding: 15px 30px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        display: none;
        animation: slideIn 0.5s ease, fadeOut 0.5s ease 3s forwards;
    }

    keyframes slideIn {
        from

    {
        top: -50px;
        opacity: 0;
    }

    to {
        top: 20px;
        opacity: 1;
    }

    }

    keyframes fadeOut {
        from

    {
        opacity: 1;
    }

    to {
        opacity: 0;
        visibility: hidden;
    }

    }
</style>

<div class="container-fluid p-4">
    <div class="card shadow-lg rounded-3">
        <div class="card-header bg-gradient bg-primary text-white d-flex justify-content-between align-items-center">
            <h4 class="mb-0"><i class="fas fa-user-plus me-2"></i>Thêm khách hàng mới</h4>
            <a href="@Url.Action("Index")" class="btn btn-light btn-sm rounded-pill">
                <i class="fas fa-arrow-left"></i> Quay lại
            </a>
        </div>
        <div class="card-body">
            <form asp-action="Create" method="post" novalidate>
                <div class="row g-3">
                    <!-- Họ tên -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="Ho_Ten" class="form-label fw-bold text-dark">Họ và tên <span class="text-danger">*</span></label>
                            <input asp-for="Ho_Ten" class="form-control form-control-lg" placeholder="Nhập họ và tên" />
                            <span asp-validation-for="Ho_Ten" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="Email" class="form-label fw-bold text-dark">Email <span class="text-danger">*</span></label>
                            <input asp-for="Email" class="form-control form-control-lg" placeholder="Nhập email" />
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Số điện thoại -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="So_Dien_Thoai" class="form-label fw-bold text-dark">Số điện thoại <span class="text-danger">*</span></label>
                            <input asp-for="So_Dien_Thoai" class="form-control form-control-lg" placeholder="Nhập số điện thoại" />
                            <span asp-validation-for="So_Dien_Thoai" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Giới tính -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="GioiTinh" class="form-label fw-bold text-dark">Giới tính <span class="text-danger">*</span></label>
                            <select asp-for="GioiTinh" class="form-select form-select-lg">
                                <option value="">-- Chọn giới tính --</option>
                                <option value="true">Nam</option>
                                <option value="false">Nữ</option>
                            </select>
                            <span asp-validation-for="GioiTinh" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Ghi chú -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="Ghi_Chu" class="form-label fw-bold text-dark">Ghi chú</label>
                            <input asp-for="Ghi_Chu" class="form-control form-control-lg" placeholder="Nhập ghi chú (nếu có)" />
                            <span asp-validation-for="Ghi_Chu" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Nút hành động -->
                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill px-4">
                        <i class="fas fa-save me-2"></i>Lưu
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Toast thông báo -->
<div id="successToast" class="success-toast">
    @if (TempData["SuccessMessage"] != null)
    {
        <span>@TempData["SuccessMessage"]</span>
    }
</div>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const toast = document.getElementById('successToast');
            if (toast.textContent.trim()) {
                toast.style.display = 'block';
                setTimeout(() => toast.style.display = 'none', 3500); // Tự động ẩn sau 3.5 giây
            }
        });
    </script>
}